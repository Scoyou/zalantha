@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  scroll-behavior: smooth;
  --shadow-soft: 0 18px 40px rgba(88, 70, 62, 0.18);
  --shadow-strong: 0 30px 80px rgba(88, 70, 62, 0.25);
  --glow-ember: 0 0 45px rgba(79, 128, 92, 0.45);
  --ornate-line: rgba(92, 72, 118, 0.45);
  --ornate-fill: rgba(231, 214, 178, 0.6);
  --panel-tint: rgba(255, 250, 244, 0.88);
  --panel-rose: rgba(140, 90, 120, 0.2);
  --panel-sage: rgba(70, 120, 90, 0.26);
  --panel-lilac: rgba(92, 82, 140, 0.22);
}

#home-sections {
  scroll-margin-top: 12vh;
}

[data-theme="dark"] {
  color-scheme: dark;
  --shadow-soft: 0 18px 40px rgba(11, 12, 18, 0.55);
  --shadow-strong: 0 30px 80px rgba(11, 12, 18, 0.7);
  --glow-ember: 0 0 45px rgba(63, 127, 90, 0.5);
  --ornate-line: rgba(138, 114, 180, 0.45);
  --ornate-fill: rgba(68, 58, 88, 0.5);
  --panel-tint: rgba(22, 24, 34, 0.92);
  --panel-rose: rgba(92, 62, 90, 0.35);
  --panel-sage: rgba(52, 90, 74, 0.4);
  --panel-lilac: rgba(78, 70, 120, 0.35);
}

body {
  min-height: 100vh;
  font-family: var(--font-body);
  font-size: 1.0625rem;
  line-height: 1.6;
  text-rendering: optimizeLegibility;
  color: #3a2a24;
  background-color: #fbf7ef;
  background-image: radial-gradient(circle at 12% 10%, rgba(231, 214, 178, 0.35), transparent 55%),
    radial-gradient(circle at 85% 20%, rgba(214, 196, 164, 0.28), transparent 55%),
    radial-gradient(circle at 50% 85%, rgba(246, 236, 223, 0.6), transparent 55%),
    linear-gradient(135deg, rgba(255, 250, 244, 0.75), rgba(240, 228, 210, 0.35));
}

p {
  font-size: 1.125rem;
}

.site-main {
  min-height: calc(100vh - 8rem);
  animation: site-fade 0.5s ease both;
}

.skip-link {
  position: fixed;
  top: 1rem;
  left: 1rem;
  z-index: 100;
  padding: 0.6rem 1rem;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.92);
  border: 1px solid rgba(231, 214, 178, 0.6);
  color: #3a2a24;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.2em;
  transform: translateY(-200%);
  transition: transform 0.2s ease;
}


.skip-link:focus-visible {
  transform: translateY(0);
}

[data-theme="dark"] .skip-link {
  background: rgba(16, 20, 30, 0.95);
  border-color: rgba(120, 132, 160, 0.5);
  color: #f3e6da;
}

.themed-panel .surface-panel--night {
  background: linear-gradient(140deg, rgba(255, 255, 255, 0.94), rgba(240, 228, 210, 0.8));
  border-color: rgba(231, 214, 178, 0.45);
  color: #3a2a24;
}

.themed-panel .text-mist {
  color: #3a2a24;
}

[data-theme="dark"] .themed-panel .surface-panel--night {
  background: linear-gradient(160deg, rgba(47, 58, 82, 0.92), rgba(68, 80, 70, 0.85));
  border-color: rgba(170, 148, 196, 0.35);
  color: #fff7f0;
}

[data-theme="dark"] .themed-panel .text-mist {
  color: #f7eddc;
}

[data-theme="dark"] body {
  color: #f3e6da;
  background-color: #10121b;
  background-image: radial-gradient(circle at 8% 12%, rgba(58, 88, 132, 0.35), transparent 55%),
    radial-gradient(circle at 88% 14%, rgba(46, 86, 66, 0.35), transparent 55%),
    radial-gradient(circle at 55% 85%, rgba(74, 60, 112, 0.35), transparent 52%),
    radial-gradient(circle at 28% 70%, rgba(30, 72, 106, 0.35), transparent 55%),
    linear-gradient(135deg, rgba(19, 22, 32, 0.95), rgba(10, 12, 20, 0.85));
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: linear-gradient(120deg, rgba(76, 68, 112, 0.2), transparent 45%),
    linear-gradient(0deg, rgba(76, 68, 112, 0.24), transparent 35%);
  opacity: 0.6;
  z-index: -1;
}

[data-theme="dark"] body::before {
  background-image: linear-gradient(120deg, rgba(32, 34, 46, 0.6), transparent 45%),
    linear-gradient(0deg, rgba(32, 34, 46, 0.6), transparent 35%);
  opacity: 0.7;
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160' fill='none'%3E%3Cpath d='M80 26c-13 0-24 11-24 24 0 10 6 19 15 23-9 4-15 13-15 23 0 13 11 24 24 24 10 0 19-6 23-15 4 9 13 15 23 15 13 0 24-11 24-24 0-10-6-19-15-23 9-4 15-13 15-23 0-13-11-24-24-24-10 0-19 6-23 15-4-9-13-15-23-15Z' fill='%23f0e3cf' stroke='%23c9b39b' stroke-width='2'/%3E%3C/svg%3E");
  background-size: 220px 220px;
  opacity: 0.2;
  z-index: -1;
}

[data-theme="dark"] body::after {
  opacity: 0.12;
}

h1,
h2,
h3,
h4 {
  font-family: var(--font-display);
  letter-spacing: 0.02em;
  color: #4c3a32;
}

[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4 {
  color: #f7eddc;
}

.font-display {
  font-family: var(--font-display);
  letter-spacing: 0.02em;
}

.hero-background {
  background: radial-gradient(circle at 18% 18%, rgba(90, 70, 130, 0.55), transparent 45%),
    radial-gradient(circle at 70% 8%, rgba(92, 82, 140, 0.5), transparent 52%),
    radial-gradient(circle at 80% 40%, rgba(70, 130, 92, 0.45), transparent 55%),
    linear-gradient(180deg, #2f3a52 0%, #5f5b6b 48%, #fbf7ef 100%);
}

[data-theme="dark"] .hero-background {
  background: radial-gradient(circle at 18% 18%, rgba(58, 88, 132, 0.55), transparent 45%),
    radial-gradient(circle at 70% 8%, rgba(74, 60, 112, 0.5), transparent 52%),
    radial-gradient(circle at 80% 40%, rgba(46, 86, 66, 0.45), transparent 55%),
    linear-gradient(180deg, #0c0f1a 0%, #23283b 55%, #10121b 100%);
}

.hero-map {
  background: linear-gradient(180deg, #2f3a52 0%, #5f5b6b 55%, #fbf7ef 100%);
}

[data-theme="dark"] .hero-map {
  background: linear-gradient(180deg, #0c0f1a 0%, #23283b 55%, #10121b 100%);
}

.hero-map__image {
  filter: saturate(0.9) contrast(1.05);
}

.hero-map__wash {
  background: radial-gradient(circle at 20% 20%, rgba(255, 245, 229, 0.65), transparent 55%),
    radial-gradient(circle at 80% 10%, rgba(217, 163, 155, 0.35), transparent 60%),
    linear-gradient(120deg, rgba(255, 245, 229, 0.5), rgba(222, 198, 170, 0.35));
  mix-blend-mode: screen;
  opacity: 0.8;
}

.hero-map__runes {
  background-image: linear-gradient(120deg, rgba(76, 68, 112, 0.18), transparent 45%),
    linear-gradient(0deg, rgba(76, 68, 112, 0.2), transparent 40%);
  opacity: 0.55;
}

.hero-map__vignette {
  background: radial-gradient(circle at center, rgba(10, 12, 20, 0.05), rgba(10, 12, 20, 0.65) 70%);
}

.hero-map__fog {
  background: linear-gradient(to top, rgba(251, 247, 239, 0.92), rgba(251, 247, 239, 0));
}

.sigil-reveal {
  position: relative;
  width: min(70vw, 360px);
  aspect-ratio: 1 / 1;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: sigil-reveal 1.1s ease forwards;
}

.sigil-reveal__seal {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255, 245, 229, 0.96), rgba(210, 183, 143, 0.92) 55%, rgba(120, 86, 72, 0.9) 100%);
  box-shadow: 0 40px 80px rgba(58, 42, 36, 0.45), inset 0 0 25px rgba(255, 255, 255, 0.3);
}

.sigil-reveal__ring {
  position: absolute;
  inset: 12%;
  border-radius: 50%;
  border: 2px solid rgba(255, 242, 225, 0.6);
  box-shadow: inset 0 0 16px rgba(58, 42, 36, 0.35);
}

.sigil-reveal__mark {
  position: relative;
  z-index: 2;
  width: 56%;
  height: 56%;
  object-fit: contain;
  filter: drop-shadow(0 14px 30px rgba(58, 42, 36, 0.4));
  opacity: 0;
  animation: sigil-mark 0.9s ease 0.35s forwards;
}

.sigil-reveal__glint {
  position: absolute;
  inset: -12%;
  border-radius: 50%;
  background: conic-gradient(from 130deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0));
  mix-blend-mode: screen;
  opacity: 0;
  animation: sigil-glint 1.4s ease 0.4s forwards;
}

.surface-panel {
  background: linear-gradient(135deg, var(--panel-tint), rgba(251, 247, 239, 0.85));
  border: 1px solid rgba(255, 255, 255, 0.75);
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(18px);
}

[data-theme="dark"] .surface-panel {
  border: 1px solid rgba(120, 132, 160, 0.35);
}

.surface-panel--deep {
  background: linear-gradient(140deg, rgba(255, 255, 255, 0.92), var(--panel-rose), var(--panel-sage), var(--panel-lilac));
  box-shadow: var(--shadow-strong);
}

.surface-panel--night {
  background: linear-gradient(160deg, rgba(47, 58, 82, 0.92), rgba(68, 80, 70, 0.85));
  border: 1px solid rgba(170, 148, 196, 0.35);
  box-shadow: var(--shadow-strong);
  color: #fff7f0;
}

[data-theme="dark"] .surface-panel--night {
  border: 1px solid rgba(148, 162, 198, 0.4);
}

.about-panel {
  background: rgba(255, 252, 246, 0.98);
}

[data-theme="dark"] .about-panel {
  background: rgba(16, 20, 30, 0.95);
}

.btn-primary {
  background: linear-gradient(135deg, #3f7f5a, #d1b27c, #5b6ab3);
  color: #3a2a24;
  border-radius: 999px;
  padding: 0.65rem 1.6rem;
  font-weight: 600;
  box-shadow: var(--glow-ember);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.btn-primary--shimmer {
  position: relative;
  overflow: hidden;
}

.btn-primary--shimmer::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -150%;
  width: 120%;
  height: 200%;
  background: linear-gradient(120deg, transparent 0%, rgba(255, 255, 255, 0.7) 50%, transparent 100%);
  transform: translateX(0) rotate(15deg);
  opacity: 0;
  transition: opacity 0.2s ease;
}

.btn-primary--shimmer:hover::after {
  opacity: 0.9;
  animation: sword-shimmer 0.9s ease;
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 26px rgba(63, 127, 90, 0.45);
}

.link-ember {
  color: #4a6bb2;
  font-weight: 600;
}

.link-ember:hover {
  color: #314b85;
}

.link-ember-light {
  color: #2f5b7a;
  font-weight: 600;
  text-decoration: underline;
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
  text-decoration-color: rgba(47, 91, 122, 0.45);
  border-radius: 6px;
  padding: 0 0.15em;
  transition: color 0.2s ease, text-decoration-color 0.2s ease, background-color 0.2s ease;
}

.link-ember-light:hover {
  color: #24465c;
  text-decoration-color: rgba(36, 70, 92, 0.7);
  background-color: rgba(217, 163, 155, 0.18);
}

[data-theme="dark"] .link-ember {
  color: #9fb7ff;
}

[data-theme="dark"] .link-ember:hover {
  color: #c7b6ff;
}

[data-theme="dark"] .link-ember-light {
  color: #f4e2b6;
  text-decoration-color: rgba(244, 226, 182, 0.65);
}

[data-theme="dark"] .link-ember-light:hover {
  color: #fff1d3;
  text-decoration-color: rgba(255, 241, 211, 0.85);
  background-color: rgba(76, 68, 112, 0.35);
}

[data-theme="dark"] .text-ink,
[data-theme="dark"] .text-ink\/70,
[data-theme="dark"] .text-ink\/75,
[data-theme="dark"] .text-ink\/80,
[data-theme="dark"] .text-ink\/85,
[data-theme="dark"] .text-ink\/90 {
  color: #f3e6da;
}

[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
  background-color: rgba(18, 22, 32, 0.85);
  border-color: rgba(120, 132, 160, 0.4);
  color: #f7eddc;
}

[data-theme="dark"] .nav-shell {
  background-color: rgba(16, 18, 27, 0.9);
  border-bottom-color: rgba(120, 132, 160, 0.4);
  box-shadow: 0 12px 30px rgba(5, 8, 12, 0.6);
}

[data-theme="dark"] .nav-shell a {
  color: #f3e6da;
}

[data-theme="dark"] .nav-shell a:hover {
  color: #9fb7ff;
}

[data-theme="dark"] .nav-hamburger {
  color: #f3e6da;
}

[data-theme="dark"] .nav-dropdown {
  background-color: rgba(16, 20, 30, 0.95);
  border-color: rgba(120, 132, 160, 0.5);
}

[data-theme="dark"] .nav-dropdown-list {
  color: #e9ddcf;
}

[data-theme="dark"] .theme-toggle {
  background-color: rgba(20, 24, 34, 0.9);
  border-color: rgba(120, 132, 160, 0.5);
  color: #f3e6da;
}

[data-theme="dark"] .nav-mobile {
  background-color: rgba(16, 18, 27, 0.9);
}

[data-theme="dark"] .nav-mobile-panel {
  background-color: rgba(16, 20, 30, 0.85);
  border-color: rgba(120, 132, 160, 0.45);
}

[data-theme="dark"] .footer-shell {
  background-color: rgba(16, 18, 27, 0.9);
  border-top-color: rgba(120, 132, 160, 0.4);
  color: #e6dbcf;
}

[data-theme="dark"] .footer-shell a {
  color: #d8d0c6;
}

[data-theme="dark"] .footer-shell a:hover {
  color: #9fb7ff;
}

[data-theme="dark"] .theme-card {
  border-color: rgba(120, 132, 160, 0.35);
  background-color: rgba(16, 20, 30, 0.65);
}

[data-theme="dark"] .theme-card-body {
  background: linear-gradient(140deg, rgba(20, 24, 36, 0.9), rgba(45, 54, 80, 0.7));
}

[data-theme="dark"] .theme-card-title,
[data-theme="dark"] .theme-card-text {
  color: #f3e6da;
}

[data-theme="dark"] .theme-race-card {
  border-color: rgba(120, 132, 160, 0.35);
  background-color: rgba(16, 20, 30, 0.7);
}

[data-theme="dark"] .theme-race-body {
  background: linear-gradient(140deg, rgba(20, 24, 36, 0.92), rgba(45, 54, 80, 0.75));
}

[data-theme="dark"] .theme-race-title,
[data-theme="dark"] .theme-race-text {
  color: #f3e6da;
}

.focus-ring:focus-visible {
  outline: 2px solid #b2746c;
  outline-offset: 3px;
}

a:focus-visible,
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid #b2746c;
  outline-offset: 3px;
}

.ornate-frame {
  position: relative;
}

.ornate-frame::before {
  content: "";
  position: absolute;
  inset: 12px;
  border-radius: inherit;
  border: 1px solid var(--ornate-line);
  pointer-events: none;
}

.ornate-frame::after {
  content: "";
  position: absolute;
  inset: -12px;
  border-radius: inherit;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120' fill='none'%3E%3Cpath d='M60 34c-5 6-5 10 0 16 5-6 5-10 0-16Z' fill='%23e9d7c0'/%3E%3Cpath d='M86 60c-6-5-10-5-16 0 6 5 10 5 16 0Z' fill='%23e9d7c0'/%3E%3Cpath d='M60 86c5-6 5-10 0-16-5 6-5 10 0 16Z' fill='%23e9d7c0'/%3E%3Cpath d='M34 60c6 5 10 5 16 0-6-5-10-5-16 0Z' fill='%23e9d7c0'/%3E%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120' fill='none'%3E%3Cpath d='M60 34c-5 6-5 10 0 16 5-6 5-10 0-16Z' fill='%23e9d7c0'/%3E%3Cpath d='M86 60c-6-5-10-5-16 0 6 5 10 5 16 0Z' fill='%23e9d7c0'/%3E%3Cpath d='M60 86c5-6 5-10 0-16-5 6-5 10 0 16Z' fill='%23e9d7c0'/%3E%3Cpath d='M34 60c6 5 10 5 16 0-6-5-10-5-16 0Z' fill='%23e9d7c0'/%3E%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120' fill='none'%3E%3Cpath d='M60 34c-5 6-5 10 0 16 5-6 5-10 0-16Z' fill='%23e9d7c0'/%3E%3Cpath d='M86 60c-6-5-10-5-16 0 6 5 10 5 16 0Z' fill='%23e9d7c0'/%3E%3Cpath d='M60 86c5-6 5-10 0-16-5 6-5 10 0 16Z' fill='%23e9d7c0'/%3E%3Cpath d='M34 60c6 5 10 5 16 0-6-5-10-5-16 0Z' fill='%23e9d7c0'/%3E%3C/svg%3E"),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120' fill='none'%3E%3Cpath d='M60 34c-5 6-5 10 0 16 5-6 5-10 0-16Z' fill='%23e9d7c0'/%3E%3Cpath d='M86 60c-6-5-10-5-16 0 6 5 10 5 16 0Z' fill='%23e9d7c0'/%3E%3Cpath d='M60 86c5-6 5-10 0-16-5 6-5 10 0 16Z' fill='%23e9d7c0'/%3E%3Cpath d='M34 60c6 5 10 5 16 0-6-5-10-5-16 0Z' fill='%23e9d7c0'/%3E%3C/svg%3E");
  background-position: left top, right top, left bottom, right bottom;
  background-repeat: no-repeat;
  background-size: 88px 88px;
  opacity: 0.55;
  pointer-events: none;
}

.ornate-frame--night::before {
  border-color: rgba(250, 240, 225, 0.4);
}

.ornate-frame--night::after {
  opacity: 0.4;
}

.page-transition {
  position: relative;
  animation: page-bloom 0.7s ease both;
}

.animate-fade-in {
  animation: fade-in 0.8s ease forwards;
}

.animate-rise-in {
  animation: rise-in 0.8s ease forwards;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes rise-in {
  from {
    opacity: 0;
    transform: translateY(18px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes page-bloom {
  from {
    opacity: 0;
    transform: translateY(14px) scale(0.98);
    filter: blur(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes sword-shimmer {
  from {
    transform: translateX(0) rotate(15deg);
  }
  to {
    transform: translateX(260%) rotate(15deg);
  }
}

@keyframes site-fade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes sigil-reveal {
  from {
    opacity: 0;
    transform: scale(0.72) rotate(-6deg);
  }
  to {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
}

@keyframes sigil-mark {
  from {
    opacity: 0;
    transform: scale(0.85);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes sigil-glint {
  from {
    opacity: 0;
    transform: rotate(-30deg);
  }
  40% {
    opacity: 0.7;
  }
  to {
    opacity: 0;
    transform: rotate(30deg);
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-rise-in,
  .page-transition,
  .hero-image,
  .sigil-reveal,
  .sigil-reveal__mark,
  .sigil-reveal__glint,
  .site-main {
    animation: none;
  }

  .btn-primary--shimmer::after {
    animation: none;
  }
}
